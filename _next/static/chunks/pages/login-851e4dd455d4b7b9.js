(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(1442)}])},1595:function(e,r,n){"use strict";var t=n(5893),o=n(7294),s=n(1669),a=n(8911),i=n(9501),l=n(2393),c=n(1167),d=n(3754),u=n(7442),h=n(6597),p=n(6455),m=n.n(p),g=n(8530),x=n(5461);let f=e=>e?e.startsWith("0")?"+234".concat(e.substring(1)).replaceAll(" ","").trim():e.replaceAll(" ","").trim():e,w=e=>{let{onAuthDone:r}=e,{auth:n,db:p}=(0,h.f2)(),[w,b]=(0,o.useState)(""),[v,y]=(0,o.useState)(),[E,P]=(0,o.useState)(""),[S,j]=(0,o.useState)(),[C,k]=(0,o.useState)(),{signIn:Z,resetPassword:_,onAuthPrompt:I,googleSignIn:N}=(0,g.ZP)(null==n?void 0:n.service),A=()=>{y(""),j("")},M=e=>{e.preventDefault(),e.preventDefault(),A(),(0,d.N4)(w)?y("Please enter your email address or phone number"):(0,d.vV)(w)||(0,u.tm)(f(w))?n&&(P(""),k(!0),_(f(w)).then(()=>{m().fire({icon:"info",text:(0,d.vV)(w)?"A password reset email has been sent to ".concat(w,". Check your inbox or spam folder for the email sent."):"A password reset code has been sent to ".concat(w,". Check your messages for the code sent.")}),k(!1),P(E)}).catch(e=>{let r;r="auth/user-not-found"==e.code?"The account is invalid.":e.message,m().fire({icon:"error",text:r}),k(!1),P(E)})):y("Please enter a valid email address or phone number.")},W=e=>new Promise((r,n)=>{e=f(e);let t=window.localStorage.getItem("MEET_OFFLINE_PHONE_EMAIL_".concat(e));return r(t||e)}),F=e=>{e.preventDefault(),A();var t=!1;(0,d.N4)(w)?(t=!0,y("Please enter your email address or phone number")):(0,d.vV)(w)||(0,u.tm)(f(w))||(t=!0,y("Please enter a valid email address or phone number.")),(0,d.N4)(E)&&(t=!0,j("Please enter your password.")),!t&&n&&(k(!0),W(w).then(e=>{Z(e,E).then(e=>{k(!1),e&&r&&r(e.user)}).catch(r=>{let n;n="auth/wrong-password"==r.code?"Wrong email address or password. Check your email address and password, then try again.":"auth/user-not-found"==r.code?"Wrong email address or password. Check your email address and password, then try again.":(0,h.jB)(r,e),m().fire({icon:"error",text:n}),k(!1)})}))};return(0,t.jsxs)(s.g,{children:[(0,t.jsx)(l.Z,{type:"text",title:"Email or Phone",placeholder:"Enter your email or phone number",mb:2,value:w,onChange:e=>b(e),errorMessage:v}),(0,t.jsx)(l.Z,{type:"password",title:"Password",placeholder:"Enter your password",mb:2,value:E,onChange:e=>{P(e)},errorMessage:S}),(0,t.jsx)(a.x,{alignSelf:"flex-end",children:(0,t.jsx)(c.Z,{href:"#",onClick:M,disabled:C,fontStyle:C&&!E?"italic":"normal",children:C&&(0,d.N4)(E)?"Please wait...":"Forgot password?"})}),(0,t.jsxs)(s.g,{display:"none",children:[(0,t.jsx)(x.Z,{mb:4,onClick:()=>{N().then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),m().fire({icon:"success",text:e?"PopUp.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),m().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Pop Up"}),(0,t.jsx)(x.Z,{onClick:()=>{N(!0,"http://localhost:3000/dashboard").then(e=>{console.log("useAuthFlowGooglePopUpSignIn:userCredential",e),m().fire({icon:"success",text:e?"Redirect.Email: ".concat(e.user.email," | \n                    Phone: ").concat(e.user.phoneNumber," | \n                    providerId: ").concat(e.user.providerId):"Empty Credential"})}).catch(e=>{console.log("useAuthFlowGooglePopUpSignIn:error",e),m().fire({icon:"error",text:"ErrorCode: ".concat(null==e?void 0:e.code," | \n                    ErroMessage: ").concat(null==e?void 0:e.message)})})},children:"Sign In With Google Redirect"})]}),(0,t.jsx)(i.Z,{w:"100%",alignSelf:"flex-start",id:"recaptcha-container",type:"submit",onClick:F,disabled:C,fontStyle:C&&E?"italic":"normal",mt:"1rem !important",mb:"1.5rem !important",children:C&&!(0,d.N4)(E)?"Please wait...":"Sign in"}),I()]})};r.Z=w},7918:function(e,r,n){"use strict";var t=n(5893),o=n(3100),s=n(2498);let a=e=>{let{as:r,children:n,...a}=e;return(0,t.jsx)(o.xu,{as:r||"div",pos:"relative",w:"100%",bg:(0,s.ff)("cardBg.light","cardBg.dark"),borderRadius:"20px",boxShadow:"0 0.5rem 1rem rgb(0 0 0 / 15%) !important",p:"1rem",display:"block",...a,children:n})};r.Z=a},1442:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return x}});var t=n(5893),o=n(8085),s=n(1334),a=n(574),i=n(2209),l=n(460),c=n(1163),d=n(7918),u=n(1669),h=n(6367),p=n(8911),m=n(1595),g=n(1167);function x(){let e=(0,c.useRouter)(),r=r=>{e.push("/dashboard")};return(0,t.jsx)(s.Z,{title:"Sign In",description:"Welcome Back! Let's get you back in.",image:"".concat(o.Le,"/logo-512.png"),navMenu:a.Z,sideBarMenu:i.Z,children:(0,t.jsx)(l.Z,{px:"1rem",mt:"2rem",children:(0,t.jsxs)(d.Z,{minH:"60vh",w:"100%",maxW:"700px",p:{base:"15px 15px",md:"50px 80px"},m:"15px auto",borderRadius:"24px",children:[(0,t.jsxs)(u.g,{w:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,t.jsx)(h.E,{src:o.NU,h:"48px",w:"auto"}),(0,t.jsx)(p.x,{fontSize:"14px",mb:"1.5rem !important",textAlign:"center",children:"Welcome Back! Let's get you back in."})]}),(0,t.jsx)(m.Z,{onAuthDone:r}),(0,t.jsxs)(p.x,{textAlign:"center",fontSize:"14px",children:["Don't have an account yet? ",(0,t.jsx)(g.Z,{href:"/register",children:"Sign up here."})]})]})})})}}},function(e){e.O(0,[345,334,387,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);